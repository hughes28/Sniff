{"version":3,"sources":["models/Database.js"],"names":["console","log","process","env","NODE_ENV","match","DATABASE_URL","Database","Sequelize","host","port","dialect","protocol","pool","max","min","idle","define","timestamps","freezeTableName","PGUSER","PGDATABASE","PGPASSWORD","PGPORT"],"mappings":"AAAA;;AAEA;;;;;;AAEA;;;;;;AAEAA,QAAQC,GAAR,CAAY,oBAAoBC,QAAQC,GAAR,CAAYC,QAA5C;;AAEA,IAAMC,QAAQH,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCF,QAAQC,GAAR,CAAYG,YAAZ,CAAyBD,KAAzB,CAA+B,kDAA/B,CAAxC,GAA6H,EAA3I;;AAEA,IAAME,WAAYL,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyCF,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,SAAnE,GACb,IAAII,mBAAJ,CACIH,MAAM,CAAN,CADJ,EAEIA,MAAM,CAAN,CAFJ,EAGIA,MAAM,CAAN,CAHJ,EAGc;AACNI,UAAMJ,MAAM,CAAN,CADA;AAENK,UAAML,MAAM,CAAN,CAFA;AAGNM,aAAS,UAHH;AAINC,cAAU,UAJJ;AAKNC,UAAM;AACFC,aAAK,EADH;AAEFC,aAAK,CAFH;AAGFC,cAAM;AAHJ,KALA;AAUNC,YAAQ;AACJC,oBAAY,KADR;AAEJC,yBAAiB;AAFb;AAVF,CAHd,CADa,GAmBT,IAAIX,mBAAJ,CACAN,QAAQC,GAAR,CAAYiB,MADZ,EAEAlB,QAAQC,GAAR,CAAYkB,UAFZ,EAGAnB,QAAQC,GAAR,CAAYmB,UAHZ,EAGyB;AACrBb,UAAM,WADe;AAErBC,UAAMR,QAAQC,GAAR,CAAYoB,MAFG;AAGrBZ,aAAS,UAHY;AAIrBE,UAAM;AACFC,aAAK,EADH;AAEFC,aAAK,CAFH;AAGFC,cAAM;AAHJ,KAJe;AASrBC,YAAQ;AACJC,oBAAY;AADR;AATa,CAHzB,CAnBR;;kBAqCeX,Q","file":"Database.js","sourcesContent":["// @ flow\n\n'use strict';\n\nimport Sequelize from 'sequelize';\n\nconsole.log(\"Process env is \" + process.env.NODE_ENV);\n\nconst match = process.env.NODE_ENV === 'production' ? process.env.DATABASE_URL.match(/postgres:\\/\\/([^:]+):([^@]+)@([^:]+):(\\d+)\\/(.+)/) : '';\n\nconst Database = (process.env.NODE_ENV === 'production' || process.env.NODE_ENV === 'staging') ?\n    new Sequelize(\n        match[5],\n        match[1],\n        match[2], {\n            host: match[3],\n            port: match[4],\n            dialect: 'postgres',\n            protocol: 'postgres',\n            pool: {\n                max: 10,\n                min: 0,\n                idle: 30000\n            },\n            define: {\n                timestamps: false,\n                freezeTableName: true,\n            },\n        },\n    ) : new Sequelize(\n        process.env.PGUSER,\n        process.env.PGDATABASE,\n        process.env.PGPASSWORD , {\n            host: 'localhost',\n            port: process.env.PGPORT,\n            dialect: 'postgres',\n            pool: {\n                max: 10,\n                min: 0,\n                idle: 30000\n            },\n            define: {\n                timestamps: false,\n            },\n        },\n    );\n\nexport default Database;\n"]}