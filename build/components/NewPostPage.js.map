{"version":3,"sources":["components/NewPostPage.js"],"names":["NewPostPage","props","state","errorMessage","additionalAttrs","post","isEditing","isEditingLocation","handleChange","bind","handleCreatePostButtonClicked","handleDatePickerChange","handleCreateNewAttributeClicked","handleDeleteAttribute","handleAttributeChange","handleChangeLocationClicked","onSuggestSelect","handleChangeLocationConfirmClicked","location","additional_attributes","postId","id","formattedAddress","formatted_address","submitter_user_id","lastSeen","last_seen","datePicker","setState","previousLat","latitude","previousLng","longitude","previousAddress","e","updatedPost","target","type","name","checked","value","date","format","data","additionalAttributes","axios","DOMAIN_URL","then","response","status","console","log","history","push","message","catch","error","replace","suggest","lat","lng","pendingFormattedAddress","description","newAdditionalAttrs","key","index","attributes","slice","concat","parts","split","parseInt","locationField","_geoSuggest","el","google","maps","LatLng","editLocationButton","confirmButton","length","reward","contact","map","attr","React","Component"],"mappings":";;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;;;;;;;;;IAEqBA,W;;;AAEpB,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA,wHACZA,KADY;;AAElB,QAAKC,KAAL,GAAa;AACTC,iBAAc,EADL;AAETC,oBAAiB,EAFR;AAGTC,SAAM,EAHG;AAITC,cAAW,KAJF;AAKTC,sBAAmB;AALV,GAAb;AAOA,QAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,OAApB;AACA,QAAKC,6BAAL,GAAqC,MAAKA,6BAAL,CAAmCD,IAAnC,OAArC;AACA,QAAKE,sBAAL,GAA8B,MAAKA,sBAAL,CAA4BF,IAA5B,OAA9B;AACA,QAAKG,+BAAL,GAAuC,MAAKA,+BAAL,CAAqCH,IAArC,OAAvC;AACA,QAAKI,qBAAL,GAA6B,MAAKA,qBAAL,CAA2BJ,IAA3B,OAA7B;AACA,QAAKK,qBAAL,GAA6B,MAAKA,qBAAL,CAA2BL,IAA3B,OAA7B;AACA,QAAKM,2BAAL,GAAmC,MAAKA,2BAAL,CAAiCN,IAAjC,OAAnC;AACA,QAAKO,eAAL,GAAuB,MAAKA,eAAL,CAAqBP,IAArB,OAAvB;AACA,QAAKQ,kCAAL,GAA0C,MAAKA,kCAAL,CAAwCR,IAAxC,OAA1C;AAjBkB;AAkBlB;;;;sCAEmB;AACnB,OAAI,CAAC,CAAC,KAAKR,KAAL,CAAWiB,QAAX,CAAoBhB,KAAtB,IAA+B,CAAC,CAAC,KAAKD,KAAL,CAAWiB,QAAX,CAAoBhB,KAApB,CAA0BG,IAA/D,EAAqE;AACpE,QAAMA,OAAO,KAAKJ,KAAL,CAAWiB,QAAX,CAAoBhB,KAApB,CAA0BG,IAAvC;AACA,QAAMD,+CAAuBC,KAAKc,qBAA5B,EAAN;AACA,QAAMC,SAASf,KAAKgB,EAApB;AACA,WAAOhB,KAAKgB,EAAZ;AACA,WAAOhB,KAAKc,qBAAZ;AACAd,SAAKiB,gBAAL,GAAwBjB,KAAKkB,iBAA7B;AACA,WAAOlB,KAAKkB,iBAAZ;AACA,WAAOlB,KAAKmB,iBAAZ;AACAnB,SAAKoB,QAAL,GAAgBpB,KAAKqB,SAArB;AACA,WAAOrB,KAAKqB,SAAZ;AACA,QAAMC,aAAa,sBAAOtB,KAAKoB,QAAZ,CAAnB;AACA,SAAKG,QAAL,CAAc;AACbvB,WAAMA,IADO;AAEbe,aAAQA,MAFK;AAGbhB,sBAAiBA,eAHJ;AAIbuB,iBAAYA,UAJC;AAKbrB,gBAAW,IALE;AAMbuB,kBAAaxB,KAAKyB,QANL;AAOVC,kBAAa1B,KAAK2B,SAPR;AAQVC,sBAAiB5B,KAAKiB;AARZ,KAAd;AAUA;AACD;;;+BAEYY,C,EAAG;AACf,OAAMC,2BAAmB,KAAKjC,KAAL,CAAWG,IAA9B,CAAN;AACA,OAAI6B,EAAEE,MAAF,CAASC,IAAT,KAAkB,UAAtB,EAAkC;AACjCF,gBAAYD,EAAEE,MAAF,CAASE,IAArB,IAA6BJ,EAAEE,MAAF,CAASG,OAAtC;AACA,IAFD,MAEO;AACNJ,gBAAYD,EAAEE,MAAF,CAASE,IAArB,IAA6BJ,EAAEE,MAAF,CAASI,KAAtC;AACA;AACD,QAAKZ,QAAL,CAAc,EAAEvB,MAAM8B,WAAR,EAAd;AACA;;;yCAEsBM,I,EAAM;AAC5B,OAAMN,2BAAmB,KAAKjC,KAAL,CAAWG,IAA9B,CAAN;AACA8B,eAAYV,QAAZ,GAAuBgB,KAAKC,MAAL,CAAY,YAAZ,CAAvB;AACG,QAAKd,QAAL,CAAc,EAAEvB,MAAM8B,WAAR,EAAqBR,YAAYc,IAAjC,EAAd;AACD;;;kDAE6B;AAAA;;AAC/B,OAAME,oBAAY,KAAKzC,KAAL,CAAWG,IAAvB,CAAN;AACAsC,QAAKC,oBAAL,GAA4B,KAAK1C,KAAL,CAAWE,eAAvC;AACA,OAAI,KAAKF,KAAL,CAAWI,SAAX,KAAyB,IAA7B,EAAmC;AAClCuC,oBAAMxC,IAAN,CAAcyC,qBAAd,0BAA6C,KAAK5C,KAAL,CAAWkB,MAAxD,EAAkEuB,IAAlE,EACOI,IADP,CACY,UAACC,QAAD,EAAc;AAChB,SAAIA,SAASC,MAAT,KAAoB,GAApB,IAA2BD,SAASC,MAAT,KAAoB,GAAnD,EAAwD;AACpDC,cAAQC,GAAR,CAAY,sBAAZ;AACA,aAAKlD,KAAL,CAAWmD,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,EAA6B,EAAEC,SAASN,SAASL,IAAT,CAAcW,OAAzB,EAA7B;AACH;AACJ,KANP,EAOOC,KAPP,CAOa,UAACC,KAAD,EAAW;AACdN,aAAQC,GAAR,CAAYK,KAAZ;AACA,YAAK5B,QAAL,CAAc,EAAEzB,cAAcqD,MAAMR,QAAN,CAAeL,IAAf,CAAoBa,KAApB,CAA0BC,OAA1B,CAAkC,sBAAlC,EAAyD,EAAzD,CAAhB,EAAd;AACH,KAVP;AAWA,IAZD,MAYO;AACNZ,oBAAMxC,IAAN,CAAcyC,qBAAd,2BAAgDH,IAAhD,EACOI,IADP,CACY,UAACC,QAAD,EAAc;AAChB,SAAIA,SAASC,MAAT,KAAoB,GAApB,IAA2BD,SAASC,MAAT,KAAoB,GAAnD,EAAwD;AACpDC,cAAQC,GAAR,CAAY,uBAAZ;AACA,aAAKlD,KAAL,CAAWmD,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,EAA6B,EAAEC,SAASN,SAASL,IAAT,CAAcW,OAAzB,EAA7B;AACH;AACJ,KANP,EAOOC,KAPP,CAOa,UAACC,KAAD,EAAW;AACdN,aAAQC,GAAR,CAAYK,KAAZ;AACA,YAAK5B,QAAL,CAAc,EAAEzB,cAAcqD,MAAMR,QAAN,CAAeL,IAAf,CAAoBa,KAApB,CAA0BC,OAA1B,CAAkC,sBAAlC,EAAyD,EAAzD,CAAhB,EAAd;AACH,KAVP;AAWA;AACD;;;kCAEeC,O,EAAS;AACxB,OAAIA,QAAQxC,QAAR,CAAiByC,GAAjB,KAAyB,CAAzB,IAA8BD,QAAQxC,QAAR,CAAiB0C,GAAjB,KAAwB,CAA1D,EAA4D;AAC3D,QAAMzB,2BAAmB,KAAKjC,KAAL,CAAWG,IAA9B,CAAN;AACA8B,gBAAYL,QAAZ,GAAuB4B,QAAQxC,QAAR,CAAiByC,GAAxC;AACAxB,gBAAYH,SAAZ,GAAwB0B,QAAQxC,QAAR,CAAiB0C,GAAzC;AACG,SAAKhC,QAAL,CAAc,EAAEvB,MAAM8B,WAAR,EAAqB0B,yBAAyBH,QAAQI,WAAtD,EAAd;AACH;AACD;;;oDAEiC;AACjC,OAAMC,kDAA0B,KAAK7D,KAAL,CAAWE,eAArC,EAAN;AACA2D,sBAAmBV,IAAnB,CAAwB,EAAEW,KAAK,EAAP,EAAWxB,OAAO,EAAlB,EAAxB;AACA,QAAKZ,QAAL,CAAc,EAAExB,iBAAiB2D,kBAAnB,EAAd;AACA;;;wCAEqBE,K,EAAO;AAC5B,OAAMC,aAAa,KAAKhE,KAAL,CAAWE,eAAX,CAA2B+D,KAA3B,CAAiC,CAAjC,EAAmCF,KAAnC,EAA0CG,MAA1C,CAAiD,KAAKlE,KAAL,CAAWE,eAAX,CAA2B+D,KAA3B,CAAiCF,QAAM,CAAvC,CAAjD,CAAnB;AACM,QAAKrC,QAAL,CAAc,EAAExB,iBAAiB8D,UAAnB,EAAd;AACN;;;wCAEqBhC,C,EAAG;AACxB,OAAM6B,kDAA0B,KAAK7D,KAAL,CAAWE,eAArC,EAAN;AACA,OAAMkC,OAAOJ,EAAEE,MAAF,CAASE,IAAtB;AACA,OAAM+B,QAAQ/B,KAAKgC,KAAL,CAAW,GAAX,CAAd;AACAP,sBAAmBQ,SAASF,MAAM,CAAN,CAAT,CAAnB,EAAuCA,MAAM,CAAN,CAAvC,IAAmDnC,EAAEE,MAAF,CAASI,KAA5D;AACA,QAAKZ,QAAL,CAAc,EAAExB,iBAAiB2D,kBAAnB,EAAd;AACA;;;8CAE2B7B,C,EAAG;AAC9B,OAAI,KAAKhC,KAAL,CAAWK,iBAAf,EAAkC;AACjC,QAAMF,oBAAY,KAAKH,KAAL,CAAWG,IAAvB,CAAN;AACAA,SAAKyB,QAAL,GAAgB,KAAK5B,KAAL,CAAW2B,WAA3B;AACAxB,SAAK2B,SAAL,GAAiB,KAAK9B,KAAL,CAAW6B,WAA5B;AACA1B,SAAKiB,gBAAL,GAAwB,KAAKpB,KAAL,CAAW+B,eAAnC;AACA,SAAKL,QAAL,CAAc,EAAEvB,MAAMA,IAAR,EAAd;AACA;AACD,QAAKuB,QAAL,CAAc,EAAErB,mBAAmB,CAAC,KAAKL,KAAL,CAAWK,iBAAjC,EAAd;AACA;;;qDAEkC2B,C,EAAG;AACrC,OAAM7B,oBAAY,KAAKH,KAAL,CAAWG,IAAvB,CAAN;AACAA,QAAKiB,gBAAL,GAAwB,KAAKpB,KAAL,CAAW2D,uBAAnC;AACA,QAAKjC,QAAL,CAAc;AACbC,iBAAaxB,KAAKyB,QADL;AAEbC,iBAAa1B,KAAK2B,SAFL;AAGbC,qBAAiB5B,KAAKiB,gBAHT;AAIbf,uBAAmB,KAJN;AAKbF,UAAMA;AALO,IAAd;AAOA;;;2BAEU;AAAA;;AACR,OAAImE,gBAAgB,EAApB;AACA,OAAI,CAAC,KAAKtE,KAAL,CAAWI,SAAZ,IAAyB,KAAKJ,KAAL,CAAWK,iBAAxC,EAA2D;AAC1DiE,oBACK,8BAAC,yBAAD;AACI,UAAK;AAAA,aAAI,OAAKC,WAAL,GAAiBC,EAArB;AAAA,MADT;AAEI,kBAAY,UAFhB;AAGI,sBAAiB,KAAK1D,eAH1B;AAII,eAAU,IAAI2D,OAAOC,IAAP,CAAYC,MAAhB,CAAuB,CAAvB,EAA0B,CAA1B,CAJd;AAKI,aAAO;AALX,MADL;AASA,IAVD,MAUO;AACNL,oBACC;AAAA;AAAA;AAAK,UAAKtE,KAAL,CAAWG,IAAX,CAAgBiB;AAArB,KADD;AAGA;AACD,OAAIwD,qBAAqB,EAAzB;AACA,OAAI,CAAC,KAAK5E,KAAL,CAAWK,iBAAZ,IAAiC,KAAKL,KAAL,CAAWI,SAAhD,EAA2D;AAC1DwE,yBACD;AAAA;AAAA,OAAQ,MAAK,QAAb,EAAsB,SAAS,KAAK/D,2BAApC;AAAA;AAAA,KADC;AAGA,IAJD,MAIO,IAAI,KAAKb,KAAL,CAAWK,iBAAX,IAAgC,KAAKL,KAAL,CAAWI,SAA/C,EAA0D;AAClEwE,yBACC;AAAA;AAAA,OAAQ,MAAK,QAAb,EAAsB,SAAS,KAAK/D,2BAApC;AAAA;AAAA,KADD;AAGE;AACD,OAAIgE,gBAAgB,EAApB;AACA,OAAI,KAAK7E,KAAL,CAAWK,iBAAX,IAAgC,KAAKL,KAAL,CAAWI,SAA/C,EAA0D;AACzDyE,oBACC;AAAA;AAAA,OAAQ,MAAK,QAAb,EAAsB,SAAS,KAAK9D,kCAApC;AAAA;AAAA,KADD;AAGA;AACA,UACI;AAAA;AAAA;AACC;AAAA;AAAA;AAAK,UAAKf,KAAL,CAAWI,SAAX,GAAuB,WAAvB,GAAqC;AAA1C,KADD;AAEC;AAAA;AAAA;AACE,UAAKJ,KAAL,CAAWC,YAAX,CAAwB6E,MAAxB,GAAiC,CAAjC,GAAqC;AAAA;AAAA;AAAI,WAAK9E,KAAL,CAAWC;AAAf,MAArC,GAAwE,EAD1E;AAEC;AAAA;AAAA;AAAA;AAAA,MAFD;AAGC,8CAAO,UAAU,KAAKK,YAAtB,EAAoC,MAAK,MAAzC,EAAgD,MAAK,MAArD,EAA4D,OAAO,KAAKN,KAAL,CAAWG,IAAX,CAAgBiC,IAAnF,GAHD;AAIC;AAAA;AAAA;AAAA;AAAA,MAJD;AAKC,mCAAC,yBAAD,IAAY,UAAU,KAAKpC,KAAL,CAAWyB,UAAjC,EAA6C,UAAU,KAAKhB,sBAA5D,GALD;AAMC;AAAA;AAAA;AAAA;AAAA,MAND;AAOC,8CAAO,UAAU,KAAKH,YAAtB,EAAoC,MAAK,MAAzC,EAAgD,MAAK,QAArD,EAA8D,OAAO,KAAKN,KAAL,CAAWG,IAAX,CAAgB4E,MAArF,GAPD;AAQC;AAAA;AAAA;AACC;AAAA;AAAA;AAAA;AAAA,OADD;AAEET,mBAFF;AAGEM,wBAHF;AAIEC;AAJF,MARD;AAcC;AAAA;AAAA;AAAA;AAAA,MAdD;AAeC,8CAAO,UAAU,KAAKvE,YAAtB,EAAoC,MAAK,MAAzC,EAAgD,MAAK,SAArD,EAA+D,OAAO,KAAKN,KAAL,CAAWG,IAAX,CAAgB6E,OAAtF,GAfD;AAgBC;AAAA;AAAA;AAAA;AAAA,MAhBD;AAiBC,8CAAO,UAAU,KAAK1E,YAAtB,EAAoC,MAAK,MAAzC,EAAgD,MAAK,aAArD,EAAmE,OAAO,KAAKN,KAAL,CAAWG,IAAX,CAAgByD,WAA1F,GAjBD;AAkBC;AAAA;AAAA;AACE,WAAK5D,KAAL,CAAWE,eAAX,CAA2B+E,GAA3B,CAA+B,UAACC,IAAD,EAAOnB,KAAP;AAAA,cACnB;AAAA;AAAA,UAAI,KAAKA,KAAT;AACX,iDAAO,OAAOmB,KAAKpB,GAAnB,EAAwB,MAAMC,QAAQ,MAAtC,EAA8C,UAAU,OAAKnD,qBAA7D,EAAoF,MAAK,MAAzF,GADW;AAEX,iDAAO,OAAOsE,KAAK5C,KAAnB,EAA0B,MAAMyB,QAAQ,QAAxC,EAAkD,UAAU,OAAKnD,qBAAjE,EAAwF,MAAK,MAA7F,GAFW;AAGX;AAAA;AAAA,WAAQ,MAAK,QAAb,EAAsB,SAAS;AAAA,kBAAM,OAAKD,qBAAL,CAA2BoD,KAA3B,CAAN;AAAA,WAA/B;AAAA;AAAA;AAHW,QADmB;AAAA,OAA/B;AADF,MAlBD;AA2BC;AAAA;AAAA,QAAQ,MAAK,QAAb,EAAsB,SAAS,KAAKrD,+BAApC;AAAA;AAAA;AA3BD,KAFD;AA+BC;AAAA;AAAA,OAAQ,MAAK,QAAb,EAAsB,SAAS,KAAKF,6BAApC;AAAoE,UAAKR,KAAL,CAAWI,SAAX,GAAuB,QAAvB,GAAkC;AAAtG;AA/BD,IADJ;AAmCD;;;;EArNqC+E,gBAAMC,S;;kBAA1BtF,W","file":"NewPostPage.js","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport DatePicker from 'react-datepicker';\nimport moment from 'moment';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport Geosuggest from 'react-geosuggest';\nimport {DOMAIN_URL} from '../utils/Constants';\n\nexport default class NewPostPage extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t    errorMessage: '',\n\t\t    additionalAttrs: [],\n\t\t    post: {},\n\t\t    isEditing: false,\n\t\t    isEditingLocation: false,\n\t\t};\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.handleCreatePostButtonClicked = this.handleCreatePostButtonClicked.bind(this);\n\t\tthis.handleDatePickerChange = this.handleDatePickerChange.bind(this);\n\t\tthis.handleCreateNewAttributeClicked = this.handleCreateNewAttributeClicked.bind(this);\n\t\tthis.handleDeleteAttribute = this.handleDeleteAttribute.bind(this);\n\t\tthis.handleAttributeChange = this.handleAttributeChange.bind(this);\n\t\tthis.handleChangeLocationClicked = this.handleChangeLocationClicked.bind(this);\n\t\tthis.onSuggestSelect = this.onSuggestSelect.bind(this);\n\t\tthis.handleChangeLocationConfirmClicked = this.handleChangeLocationConfirmClicked.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tif (!!this.props.location.state && !!this.props.location.state.post) {\n\t\t\tconst post = this.props.location.state.post;\n\t\t\tconst additionalAttrs = [ ...post.additional_attributes ];\n\t\t\tconst postId = post.id;\n\t\t\tdelete post.id;\n\t\t\tdelete post.additional_attributes;\n\t\t\tpost.formattedAddress = post.formatted_address;\n\t\t\tdelete post.formatted_address;\n\t\t\tdelete post.submitter_user_id;\n\t\t\tpost.lastSeen = post.last_seen;\n\t\t\tdelete post.last_seen;\n\t\t\tconst datePicker = moment(post.lastSeen);\n\t\t\tthis.setState({\n\t\t\t\tpost: post,\n\t\t\t\tpostId: postId,\n\t\t\t\tadditionalAttrs: additionalAttrs,\n\t\t\t\tdatePicker: datePicker,\n\t\t\t\tisEditing: true,\n\t\t\t\tpreviousLat: post.latitude,\n\t\t    \tpreviousLng: post.longitude,\n\t\t    \tpreviousAddress: post.formattedAddress,\n\t\t\t});\n\t\t}\n\t}\n\n\thandleChange(e) {\n\t\tconst updatedPost = { ...this.state.post };\n\t\tif (e.target.type === 'checkbox') {\n\t\t\tupdatedPost[e.target.name] = e.target.checked;\n\t\t} else {\n\t\t\tupdatedPost[e.target.name] = e.target.value;\n\t\t}\n\t\tthis.setState({ post: updatedPost });\n\t}\n\n\thandleDatePickerChange(date) {\n\t\tconst updatedPost = { ...this.state.post };\n\t\tupdatedPost.lastSeen = date.format('MM/DD/YYYY');\n    \tthis.setState({ post: updatedPost, datePicker: date });\n  \t}\n\n\thandleCreatePostButtonClicked() {\n\t\tconst data = { ...this.state.post };\n\t\tdata.additionalAttributes = this.state.additionalAttrs;\n\t\tif (this.state.isEditing === true) {\n\t\t\taxios.post(`${DOMAIN_URL}/api/v1/post/edit/${this.state.postId}`, data)\n\t        .then((response) => {\n\t            if (response.status === 200 || response.status === 201) {\n\t                console.log('Successfully edited.');\n\t                this.props.history.push('/', { message: response.data.message });\n\t            }\n\t        })\n\t        .catch((error) => {\n\t            console.log(error);\n\t            this.setState({ errorMessage: error.response.data.error.replace(/notNull Violation: /g,\"\")});\n\t        });\n\t\t} else {\n\t\t\taxios.post(`${DOMAIN_URL}/api/v1/post/create/`, data)\n\t        .then((response) => {\n\t            if (response.status === 200 || response.status === 201) {\n\t                console.log('Successfully created.');\n\t                this.props.history.push('/', { message: response.data.message });\n\t            }\n\t        })\n\t        .catch((error) => {\n\t            console.log(error);\n\t            this.setState({ errorMessage: error.response.data.error.replace(/notNull Violation: /g,\"\")});\n\t        });\n\t\t}\n\t}\n\n\tonSuggestSelect(suggest) {\n\t\tif (suggest.location.lat !== 0 || suggest.location.lng !==0){\n\t\t\tconst updatedPost = { ...this.state.post };\n\t\t\tupdatedPost.latitude = suggest.location.lat;\n\t\t\tupdatedPost.longitude = suggest.location.lng;\n\t\t    this.setState({ post: updatedPost, pendingFormattedAddress: suggest.description });\n\t\t}\n\t}\n\n\thandleCreateNewAttributeClicked() {\n\t\tconst newAdditionalAttrs = [ ...this.state.additionalAttrs ];\n\t\tnewAdditionalAttrs.push({ key: '', value: '' });\n\t\tthis.setState({ additionalAttrs: newAdditionalAttrs });\n\t}\n\n\thandleDeleteAttribute(index) {\n\t\tconst attributes = this.state.additionalAttrs.slice(0,index).concat(this.state.additionalAttrs.slice(index+1));\n        this.setState({ additionalAttrs: attributes });\n\t}\n\n\thandleAttributeChange(e) {\n\t\tconst newAdditionalAttrs = [ ...this.state.additionalAttrs ];\n\t\tconst name = e.target.name;\n\t\tconst parts = name.split('|');\n\t\tnewAdditionalAttrs[parseInt(parts[0])][parts[1]] = e.target.value;\n\t\tthis.setState({ additionalAttrs: newAdditionalAttrs });\n\t}\n\n\thandleChangeLocationClicked(e) {\n\t\tif (this.state.isEditingLocation) {\n\t\t\tconst post = { ...this.state.post }\n\t\t\tpost.latitude = this.state.previousLat;\n\t\t\tpost.longitude = this.state.previousLng;\n\t\t\tpost.formattedAddress = this.state.previousAddress;\n\t\t\tthis.setState({ post: post });\n\t\t}\n\t\tthis.setState({ isEditingLocation: !this.state.isEditingLocation });\n\t}\n\n\thandleChangeLocationConfirmClicked(e) {\n\t\tconst post = { ...this.state.post };\n\t\tpost.formattedAddress = this.state.pendingFormattedAddress;\n\t\tthis.setState({\n\t\t\tpreviousLat: post.latitude,\n\t\t\tpreviousLng: post.longitude,\n\t\t\tpreviousAddress: post.formattedAddress,\n\t\t\tisEditingLocation: false,\n\t\t\tpost: post,\n\t\t});\n\t}\n\n  \trender() {\n  \t\tlet locationField = '';\n  \t\tif (!this.state.isEditing || this.state.isEditingLocation) {\n  \t\t\tlocationField = (\n\t\t        <Geosuggest\n\t\t            ref={el=>this._geoSuggest=el}\n\t\t            placeholder=\"Location\"\n\t\t            onSuggestSelect={this.onSuggestSelect}\n\t\t            location={new google.maps.LatLng(0, 0)}\n\t\t            radius=\"20\"\n\t\t        />\n  \t\t\t);\n  \t\t} else {\n  \t\t\tlocationField = (\n  \t\t\t\t<h6>{this.state.post.formattedAddress}</h6>\n  \t\t\t)\n  \t\t}\n  \t\tlet editLocationButton = '';\n  \t\tif (!this.state.isEditingLocation && this.state.isEditing) {\n  \t\t\teditLocationButton = (\n\t\t\t\t<button type=\"button\" onClick={this.handleChangeLocationClicked}>Edit Location</button>\n  \t\t\t);\n  \t\t} else if (this.state.isEditingLocation && this.state.isEditing) {\n\t\t\teditLocationButton = (\n\t\t\t\t<button type=\"button\" onClick={this.handleChangeLocationClicked}>Cancel</button>\n  \t\t\t);\n  \t\t}\n  \t\tlet confirmButton = '';\n  \t\tif (this.state.isEditingLocation && this.state.isEditing) {\n  \t\t\tconfirmButton = (\n  \t\t\t\t<button type=\"button\" onClick={this.handleChangeLocationConfirmClicked}>Confirm</button>\n  \t\t\t);\n  \t\t}\n\t    return (\n\t        <div>\n\t        \t<h1>{this.state.isEditing ? 'Edit Post' : 'New Post Page'}</h1>\n\t        \t<div>\n\t        \t\t{this.state.errorMessage.length > 0 ? <p>{this.state.errorMessage}</p> : \"\"}\n\t\t        \t<h6>Name: </h6>\n\t\t        \t<input onChange={this.handleChange} type='text' name='name' value={this.state.post.name}/>\n\t\t        \t<h6>Last Seen: </h6>\n\t\t        \t<DatePicker selected={this.state.datePicker} onChange={this.handleDatePickerChange}/>\n\t\t        \t<h6>Reward: </h6>\n\t\t        \t<input onChange={this.handleChange} type='text' name='reward' value={this.state.post.reward}/>\n\t\t        \t<div>\n\t\t        \t\t<h6>Location: </h6>\n\t\t        \t\t{locationField}\n\t\t        \t\t{editLocationButton}\n\t\t        \t\t{confirmButton}\n\t\t        \t</div>\n\t\t        \t<h6>Contact: </h6>\n\t\t        \t<input onChange={this.handleChange} type='text' name='contact' value={this.state.post.contact}/>\n\t\t        \t<h6>Description: </h6>\n\t\t        \t<input onChange={this.handleChange} type='text' name='description' value={this.state.post.description}/>\n\t\t\t        <ul>\n\t\t\t        \t{this.state.additionalAttrs.map((attr, index) =>\n\t                        <li key={index}>\n\t\t\t\t        \t\t<input value={attr.key} name={index + '|key'} onChange={this.handleAttributeChange} type='text'/>\n\t\t\t\t        \t\t<input value={attr.value} name={index + '|value'} onChange={this.handleAttributeChange} type='text'/>\n\t\t\t\t        \t\t<button type=\"button\" onClick={() => this.handleDeleteAttribute(index)}>X</button>\n\t\t\t\t        \t</li>\n\t                    )}\n\t                </ul>\n\t\t        \t<button type=\"button\" onClick={this.handleCreateNewAttributeClicked}>Add attribute</button>\n\t        \t</div>\n\t        \t<button type=\"button\" onClick={this.handleCreatePostButtonClicked}>{this.state.isEditing ? 'Update' : 'Post'}</button>\n\t\t\t</div>\n\t    );\n  \t}\n\n}\n\n"]}