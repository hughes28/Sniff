{"version":3,"sources":["components/MyHomePage.js"],"names":["MyHomePage","props","state","loading","axios","get","DOMAIN_URL","then","response","setState","status","authenticated","catch","error","console","log","history","push","React","Component"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;IAEqBA,U;;;AACjB,wBAAYC,KAAZ,EAAmB;AAAA;;AAAA,4HACTA,KADS;;AAEf,cAAKC,KAAL,GAAa;AACTC,qBAAS;AADA,SAAb;AAFe;AAKlB;;;;4CAEmB;AAAA;;AAChBC,4BAAMC,GAAN,CAAaC,qBAAb,2BACCC,IADD,CACM,UAACC,QAAD,EAAc;AACnB,uBAAKC,QAAL,CAAc,EAACN,SAAS,KAAV,EAAd;AACG,oBAAIK,SAASE,MAAT,KAAoB,GAApB,IAA2BF,SAASE,MAAT,KAAoB,GAAnD,EAAwD;AACpD,2BAAKD,QAAL,CAAc,EAACE,eAAe,IAAhB,EAAd;AACH;AACJ,aAND,EAOCC,KAPD,CAOO,UAACC,KAAD,EAAW;AACdC,wBAAQC,GAAR,CAAYF,KAAZ;AACA,uBAAKZ,KAAL,CAAWe,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACH,aAVD;AAWH;;;iCAEQ;AACL,gBAAI,KAAKf,KAAL,CAAWS,aAAX,IAA4B,CAAC,KAAKT,KAAL,CAAWC,OAA5C,EAAqD;AACjD,uBACI;AAAA;AAAA;AACC,kDAAC,gBAAD,IAAQ,SAAS,KAAKF,KAAL,CAAWe,OAA5B,EAAqC,eAAe,KAAKd,KAAL,CAAWS,aAA/D,GADD;AAEI,kDAAC,mBAAD,IAAW,eAAe,IAA1B,GAFJ;AAGI,kDAAC,uBAAD,IAAe,SAAS,KAAKV,KAAL,CAAWe,OAAnC;AAHJ,iBADJ;AAOH,aARD,MAQO,IAAI,CAAC,KAAKd,KAAL,CAAWS,aAAhB,EAA+B;AAClC,uBACI;AAAA;AAAA;AACI;AAAA;AAAA;AAAA;AAAA;AADJ,iBADJ;AAKH,aANM,MAMA;AACH,uBACI;AAAA;AAAA;AACI;AAAA;AAAA;AAAA;AAAA;AADJ,iBADJ;AAKH;AAEJ;;;;EA7CmCO,gBAAMC,S;;AAgD9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;kBAxDqBnB,U","file":"MyHomePage.js","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport Navbar from './Navbar';\nimport PostsList from './PostsList';\nimport NewPostButton from './NewPostButton';\nimport {DOMAIN_URL} from '../utils/Constants';\n\nexport default class MyHomePage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            loading: true,\n        };\n    }\n\n    componentDidMount() {\n        axios.get(`${DOMAIN_URL}/api/v1/user/session`)\n        .then((response) => {\n        \tthis.setState({loading: false});\n            if (response.status === 200 || response.status === 304) {\n                this.setState({authenticated: true});\n            }\n        })\n        .catch((error) => {\n            console.log(error);\n            this.props.history.push('/');\n        });\n    }\n\n    render() {\n        if (this.state.authenticated && !this.state.loading) {\n            return (\n                <div>\n                \t<Navbar history={this.props.history} authenticated={this.state.authenticated}/>\n                    <PostsList postsEditable={true}/>\n                    <NewPostButton history={this.props.history}/>\n                </div>\n            );\n        } else if (!this.state.authenticated) {\n            return (\n                <div>\n                    <h1>User not authenticated.</h1>\n                </div>\n            );\n        } else {\n            return (\n                <div>\n                    <h1>Loading</h1>\n                </div>\n            );\n        }\n\n    }\n}\n\n// LESSONS LEARNED\n// 1. Fetch on mount\n// 2. Loading state while fetching\n// 3. Display with ul and use map to transform individual array element into UI elements\n// 4. Use browser console to help figure out what data to extract from response\n// 5. return different UI under different conditions\n// 6. Use this.props.history.push to navigate users to desired page\n// 7. If communicating with backend at all, use Axios\n// 8. Teach NewPostButton history so that the NewPostButton component knows what history comes from\n"]}